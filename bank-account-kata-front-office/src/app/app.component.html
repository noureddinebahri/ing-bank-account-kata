<nav class="navbar navbar-expand-lg navbar-light bg-light">

	<a class="navbar-brand" href="/">Bank Account Kata - Front Office</a>

	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
		aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>

	<div class="collapse navbar-collapse" id="navbarSupportedContent-4">
		<ul class="navbar-nav ml-auto">

			<li class="nav-item">
				<a class="nav-link" href="/depositMoney" [class.disabled]="!(isLoggedIn$ | async)">Deposit Money</a>
			</li>

			<li class="nav-item">
				<ng-container *ngIf="isLoggedIn$ | async; else internalBlock">
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-4" data-toggle="dropdown"
							aria-haspopup="true" aria-expanded="false">
							<ng-container *ngIf="user | async; let user; else loading">
								{{ user.username }}
							</ng-container>
							<ng-template #loading>
								Loading...
							</ng-template>
						</a>
						<div class="dropdown-menu dropdown-menu-right dropdown-info" aria-labelledby="navbarDropdownMenuLink-4">
							<a class="dropdown-item" href="/" (click)="logout()">Log out</a>
						</div>
					</li>
				</ng-container>
				<ng-template #internalBlock>
					<li class="nav-item">
						<a class="nav-link" href="/login">Login</a>
					</li>
				</ng-template>
			</li>

		</ul>
	</div>

</nav>

<router-outlet></router-outlet>